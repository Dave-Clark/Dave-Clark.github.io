<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Microbial Ecologist on Microbial Ecologist</title>
    <link>https://Dave-Clark.github.io/</link>
    <description>Recent content in Microbial Ecologist on Microbial Ecologist</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-uk</language>
    <copyright>&amp;copy; 2018</copyright>
    <lastBuildDate>Sun, 15 Oct 2017 00:00:00 +0100</lastBuildDate>
    <atom:link href="/" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Speeding up rarefaction curves for microbial community ecology</title>
      <link>https://Dave-Clark.github.io/post/speeding-up-rarefaction-curves-for-microbial-community-ecology/</link>
      <pubDate>Sat, 15 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/speeding-up-rarefaction-curves-for-microbial-community-ecology/</guid>
      <description>


&lt;p&gt;When beginning analyses on microbial community data, it is often helpful to compute rarefaction curves. A rarefaction curve tells you about the rate at which new species/OTUs are detected as you increase the number of individuals/sequences sampled. It does this by taking random subsamples from 1, up to the size of your sample, and computing the number of species present in each subsample. Ideally, you want your rarefaction curves to be relatively flat, as this indicates that additional sampling would not likely yield further species.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;vegan&lt;/code&gt; package in &lt;code&gt;R&lt;/code&gt; has a nice function for computing rarefaction curves for species by site abundance tables. However, for microbial datasets this function is often prohibitively slow. This is due to the fact that we often have large numbers of samples, and each sample may contain several thousand sequences, meaning that a large number of random subsamples are taken.&lt;/p&gt;
&lt;p&gt;Part of the problem is that the original function only makes use of a single processing core, meaning that random subsamples are computed serially, and each sample is processed serially. This means we could speed the function up by splitting samples across multiple cores. In short, we are parallelising the function.&lt;/p&gt;
&lt;p&gt;Below is my attempt to modify the original code into a function that can use multiple processor cores to speed up the calculations.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# you will need to install the parallel package before hand
# and the vegan package if you dont have it
library(vegan)
quickRareCurve &amp;lt;- function (x, step = 1, sample, xlab = &amp;quot;Sample Size&amp;quot;,
  ylab = &amp;quot;Species&amp;quot;, label = TRUE, col, lty, max.cores = T, nCores = 1, ...)
{
    require(parallel)
    x &amp;lt;- as.matrix(x)
    if (!identical(all.equal(x, round(x)), TRUE))
        stop(&amp;quot;function accepts only integers (counts)&amp;quot;)
    if (missing(col))
        col &amp;lt;- par(&amp;quot;col&amp;quot;)
    if (missing(lty))
        lty &amp;lt;- par(&amp;quot;lty&amp;quot;)
    tot &amp;lt;- rowSums(x) # calculates library sizes
    S &amp;lt;- specnumber(x) # calculates n species for each sample
    if (any(S &amp;lt;= 0)) {
        message(&amp;quot;empty rows removed&amp;quot;)
        x &amp;lt;- x[S &amp;gt; 0, , drop = FALSE]
        tot &amp;lt;- tot[S &amp;gt; 0]
        S &amp;lt;- S[S &amp;gt; 0]
    } # removes any empty rows
    nr &amp;lt;- nrow(x) # number of samples
    col &amp;lt;- rep(col, length.out = nr)
    lty &amp;lt;- rep(lty, length.out = nr)
    # parallel mclapply
    # set number of cores
    mc &amp;lt;- getOption(&amp;quot;mc.cores&amp;quot;, ifelse(max.cores, detectCores(), nCores))
    message(paste(&amp;quot;Using &amp;quot;, mc, &amp;quot; cores&amp;quot;))
    out &amp;lt;- mclapply(seq_len(nr), mc.cores = mc, function(i) {
        n &amp;lt;- seq(1, tot[i], by = step)
        if (n[length(n)] != tot[i])
            n &amp;lt;- c(n, tot[i])
        drop(rarefy(x[i, ], n))
    })
    Nmax &amp;lt;- sapply(out, function(x) max(attr(x, &amp;quot;Subsample&amp;quot;)))
    Smax &amp;lt;- sapply(out, max)
     plot(c(1, max(Nmax)), c(1, max(Smax)), xlab = xlab, ylab = ylab,
       type = &amp;quot;n&amp;quot;, ...)
    if (!missing(sample)) {
      abline(v = sample)
      rare &amp;lt;- sapply(out, function(z) approx(x = attr(z, &amp;quot;Subsample&amp;quot;),
         y = z, xout = sample, rule = 1)$y)
      abline(h = rare, lwd = 0.5)
      }
    for (ln in seq_along(out)) {
      N &amp;lt;- attr(out[[ln]], &amp;quot;Subsample&amp;quot;)
      lines(N, out[[ln]], col = col[ln], lty = lty[ln], ...)
      }
    if (label) {
      ordilabel(cbind(tot, S), labels = rownames(x), ...)
      }
    invisible(out)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Most of the code is verbatim to the original, but you’ll notice a few extra arguments to specify, and a few extra lines that determine how many cores the function will use.&lt;/p&gt;
&lt;p&gt;Essentially, if you do not specify a number of cores, the function will default to using all available cores, which will allow the quickest calculation. Otherwise, you can specify &lt;code&gt;max.cores = F&lt;/code&gt;, which will allow you to specify the number of cores using &lt;code&gt;nCores&lt;/code&gt;. This is handy if you need some cores to remain usable whilst running the function.&lt;/p&gt;
&lt;p&gt;Below is a usage example.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# load some dummy data
data(dune)

quickRareCurve(dune) # will use all cores and print how many cores you have

quickRareCurve(dune, max.cores = F, nCores = 2) # use only 2 cores&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-speeding-up-rarefaction-curves-for-microbial-community-ecology_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We can compare the new function’s performance to the original using the &lt;code&gt;microbenchmark&lt;/code&gt; package, as below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(microbenchmark)

microbenchmark(rarecurve(dune), quickRareCurve(dune), times = 10)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-speeding-up-rarefaction-curves-for-microbial-community-ecology_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Unit: milliseconds
##                  expr      min       lq      mean    median       uq
##       rarecurve(dune) 35.18197 81.57729  79.22478  82.75713  84.7925
##  quickRareCurve(dune) 98.19293 99.29134 101.25665 100.35054 102.2720
##        max neval
##   90.18635    10
##  107.72471    10&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As you can see, for this small dataset, the original function is actually quicker. This is because it takes some time to distribute tasks among the cores. However, I’ve found for a typical OTU table (&amp;gt; 50 samples, ~ 15,000 sequences per sample), &lt;code&gt;quickRareCurve&lt;/code&gt; can be around 3 times faster.&lt;/p&gt;
&lt;p&gt;Feel free to use it as you wish, but I’d be very grateful for any credit if you do use it.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Zoomed maps with ggforce!</title>
      <link>https://Dave-Clark.github.io/post/zoomed-maps-with-ggforce/</link>
      <pubDate>Sat, 15 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/zoomed-maps-with-ggforce/</guid>
      <description>


&lt;p&gt;I was recently asked via twitter to share some code on how I implemented the &lt;code&gt;facet_zoom&lt;/code&gt;() function, from the newly released &lt;code&gt;ggforce&lt;/code&gt; package, to zoom in on a particular region of a map. I’ve no idea if this is the “best” way of creating these sorts of maps, but anyway, here goes…&lt;/p&gt;
&lt;p&gt;This way of making maps requires a number of packages, so make sure you have these installed first, then load them like so…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(mapdata)
library(maptools)
library(raster)
library(rgeos)
library(ggplot2)
library(ggforce)
library(ggsn)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Our first step is to source the data that will form our map’s base layer. This comes from the &lt;code&gt;mapdata&lt;/code&gt; package, and we will need the &lt;code&gt;worldHires&lt;/code&gt; data. You’ll get an automatic graphical output which should be a map of the world.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mapBase &amp;lt;- map(&amp;quot;worldHires&amp;quot;, fill = T)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-zoomed-maps-with-ggforce_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We now need to manipulate these data a bit to go from a &lt;code&gt;map&lt;/code&gt; class object, to a &lt;code&gt;SpatialPolygons&lt;/code&gt; object, which we can use with &lt;code&gt;R&lt;/code&gt;’s GIS capabilities.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# first extract the IDs of what will be each spatial polygon
ids &amp;lt;- sapply(strsplit(mapBase$names, &amp;quot;:&amp;quot;), function(x) tail(x, n = 1))

# then, coerce map to spatial polygons object
mapPoly &amp;lt;- map2SpatialPolygons(mapBase, IDs = ids,
    proj4string = CRS(&amp;quot;+proj=longlat +datum=WGS84&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, we need to create an extent object to limit the spatial polygons to the region we are interested in plotting. The extent object will also need to share the same projection as the spatial polygons object. The coordinates in the extent call are given in the form Xmin, Xmax, Ymin, Ymax.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# create an extent and coerce to spatial polygon class
mapExtent &amp;lt;- as(extent(-20, 60, -40, 60), &amp;quot;SpatialPolygons&amp;quot;)

# change projection to match the spatial polygon map
proj4string(mapExtent) &amp;lt;- CRS(proj4string(mapPoly))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we use the &lt;code&gt;gBuffer&lt;/code&gt; and &lt;code&gt;gIntersection&lt;/code&gt; functions to clip the spatial polygon map down to our region of interest. The 0 width buffer applied helps mop up topology errors with polygons self-intersecting.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;buffMap &amp;lt;- gBuffer(mapPoly, byid = TRUE, width = 0)
cropMap &amp;lt;- gIntersection(buffMap, mapExtent, byid = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Phew, that’s all the nasty GIS stuff dealt with. The rest is fairly standard data manipulation, then making the map look pretty and informative.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ggplot&lt;/code&gt; is unable to deal with many spatial data formats, so we need to turn it into something it can read, a &lt;code&gt;data.frame&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;mapDf &amp;lt;- fortify(cropMap, region = &amp;quot;id&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now let’s simulate some points to plot onto our map.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;locations &amp;lt;- data.frame(lat = runif(25, -40, 60),
  long = runif(25, -20, 60))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We now have enough to make a basic, but effective map.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot() +
  geom_map(map = mapDf, data = mapDf, aes(x = long, y = lat, map_id = id),
    fill = &amp;quot;lightgrey&amp;quot;, color = &amp;quot;lightgrey&amp;quot;) +
  geom_point(data = locations, aes(x = long, y = lat, group = NULL))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-zoomed-maps-with-ggforce_files/figure-html/unnamed-chunk-8-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Not bad, but we can do better. The background is annoying and needs to go, the points could be made bigger and clearer, and don’t forget to add a scalebar! Also, say there are lots of points in one region that we want to zoom in on, we could use the &lt;code&gt;facet_zoom&lt;/code&gt; function to get a closer look at those points.&lt;/p&gt;
&lt;p&gt;In order to use &lt;code&gt;facet_zoom&lt;/code&gt;, we need to create a factor level in the &lt;code&gt;locations&lt;/code&gt; data that we can use to subset the data. Here, I want to zoom in on all points with a longitude and latitude greater than 20, so I need to create a factor which reflects this.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;locations$region &amp;lt;- ifelse(locations$lat &amp;gt; 20 &amp;amp; locations$long &amp;gt; 20, 1, 2)
# this designates all points in my region of interest as 1&amp;#39;s, and
# points outside the region are 2&amp;#39;s&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now to tidy up our map.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot() +
  geom_map(map = mapDf, data = mapDf, aes(x = long, y = lat, map_id = id),
    fill = &amp;quot;lightgrey&amp;quot;, color = &amp;quot;lightgrey&amp;quot;) +
  geom_point(data = locations, aes(x = long, y = lat, group = NULL),
    size = 2.5) +
  ggsn:::scalebar(mapDf, dist = 2000, location = &amp;quot;bottomright&amp;quot;, model = &amp;quot;WGS84&amp;quot;,
    dd2km = T, st.size = 5, anchor = c(x = 55, y = -40)) +
  facet_zoom(xy = region == 1, zoom.size = 1) +
  labs(x = &amp;quot;Latitude (decimal degrees)&amp;quot;, y = &amp;quot;Longitude (decimal degrees)&amp;quot;) +
  theme_bw() +
  theme(axis.text = element_text(size = 16),
    axis.title = element_text(size = 18),
    panel.grid.minor = element_blank(),
    panel.grid.major = element_blank())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-zoomed-maps-with-ggforce_files/figure-html/unnamed-chunk-10-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Depending on the dimensions of your zoomed in region, you may want to play around with the &lt;code&gt;zoom.size&lt;/code&gt; parameter to get the right aspect ratio. But there you have it, combining &lt;code&gt;ggforce&lt;/code&gt; with &lt;code&gt;ggplot2&lt;/code&gt; to make lovely looking maps!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>ggplot2; From default to delightful</title>
      <link>https://Dave-Clark.github.io/post/ggplot2-from-default-to-delightful/</link>
      <pubDate>Sat, 15 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/ggplot2-from-default-to-delightful/</guid>
      <description>


&lt;p&gt;If you use &lt;code&gt;R&lt;/code&gt; to analyse and plot your data, then you’ve probably heard of and used the &lt;code&gt;ggplot2&lt;/code&gt; package, written by Hadley Wickham. &lt;code&gt;ggplot2&lt;/code&gt; is a highly flexible plotting package allowing you to create just about any kind of plot you can think of, and customise just about any aspect of your plot.&lt;/p&gt;
&lt;p&gt;However, &lt;code&gt;ggplot2&lt;/code&gt; is also known for it’s somewhat strange choice of default options (at least, they seem strange to me!). Therefore, it can seem like a lot of work to go from a basic plot to something that is approaching publication quality. Whilst there are many excellent guides out there to help with this process, I thought I’d weigh in with a few tips and personal preferences which have helped me to elevate my plots to another level.&lt;/p&gt;
&lt;p&gt;Let’s begin by loading the package and simulating some data to play around with.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(ggplot2)

myData &amp;lt;- data.frame(var1 =  runif(1000, 0, 100), var2 = runif(1000, -10, 10),
  catVar = rep(c(1:4), times = 250))

head(myData)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;##       var1      var2 catVar
## 1 94.23994 -1.937782      1
## 2 55.38800  3.144662      2
## 3 47.82335 -2.186647      3
## 4 26.30024 -4.740056      4
## 5 58.41232 -8.794706      1
## 6 46.38606 -6.323146      2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Hopefully that code should be fairly easy to understand, we’ve simulated two continuous variables (with a random distribution) and created a categorical variable.&lt;/p&gt;
&lt;p&gt;Now let’s create the most basic scatter plot possible with this data.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot1 &amp;lt;- ggplot(myData, aes(x = var1, y = var2)) + geom_point()
plot1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-ggplot2-from-default-to-delightful_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt; That looks ok, but it’s not perfect. The text and points are quite small, the black points are bit abrasive on the eye and the grey background is a little distracting. Additionally, the axis labels are not informative and we are also obscuring potentially interesting trends by plotting all of the data from our different groups together. So, lets set about fixing those things.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(myData, aes(x = var1, y = var2)) +
  geom_point(size = 2, color = &amp;quot;grey&amp;quot;) +
  facet_wrap(~catVar)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-ggplot2-from-default-to-delightful_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;So now the points are a little bigger and grey, which makes them easier to look at and with an aesthetically nicer muted contrast. We’ve also split the data into 4 separate panels, so that we can seen any group specific trends far easier, and without the visual clutter of lots of different colour points (ideal when there is a monetary cost to publishing color figures). But that grey background is now obscuring things, and our axis labels are still hard to read and uninformative. Let’s fix those.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggplot(myData, aes(x = var1, y = var2)) +
  geom_point(size = 2, color = &amp;quot;grey&amp;quot;) +
  facet_wrap(~catVar) +
  labs(x = &amp;quot;Variable 1&amp;quot;, y = &amp;quot;Variable 2&amp;quot;) +
  theme_bw()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-ggplot2-from-default-to-delightful_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We’re starting to look quite good now, the points are now much more visible, yet not too harsh against the white background, and our axis labels now tell us something about the data (if it were real!). Now we can apply some final polish to really get this looking great!&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;finalPlot &amp;lt;- ggplot(myData, aes(x = var1, y = var2)) +
  geom_point(size = 2, color = &amp;quot;grey&amp;quot;) +
  facet_wrap(~catVar) +
  labs(x = &amp;quot;Variable 1&amp;quot;, y = &amp;quot;Variable 2&amp;quot;) +
  theme_bw() +
  theme(axis.text = element_text(size = 16),
    axis.title = element_text(size = 18),
    strip.text.x = element_text(size = 16),
    panel.grid.major = element_blank())&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Done! The text around the plot is now much easier to see, and we’ve removed the major gridlines which means less distraction from the data. Everything is far clearer and easier to read.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-ggplot2-from-default-to-delightful_files/figure-html/unnamed-chunk-6-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;finalPlot&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-15-ggplot2-from-default-to-delightful_files/figure-html/unnamed-chunk-6-2.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;One final tip, save your graphs as pdfs. PDFs are known as vector based graphics and maintain resolution far better than bitmap based graphics such as PNGs, JPEGs or TIFs. The added bonus is that many journals also request your figures to be in a vector based format, so you’re also helping your figures become published.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ggsave(&amp;quot;myPlot.pdf&amp;quot;, finalPlot, width = 8, height = 8, device = &amp;quot;pdf&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Barking up the wrong tree? Leaf your troubles behind with dendextend</title>
      <link>https://Dave-Clark.github.io/post/barking-up-the-wrong-tree-leaf-your-troubles-behind-with-dendextend/</link>
      <pubDate>Wed, 12 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/barking-up-the-wrong-tree-leaf-your-troubles-behind-with-dendextend/</guid>
      <description>


&lt;p&gt;I was recently asked by one of my PhD supervisors to help out on a paper by doing some metagenomic analyses. My mission was essentially to perform some taxonomic analyses of metagenomes and show how a metagenome generated in our lab related to these. So, naturally, I said yes, carried out the necessary analyses and proceeded to design a figure to show the result. I figured a dendrogram would be a nice way of showing compositional similarity between the community we studied and other communities. First of all, I set about creating a distance matrix and plotting the dendrogram like so:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(vegan)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Loading required package: permute&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Loading required package: lattice&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## This is vegan 2.5-3&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;data(dune)  # load some dummy data
commDist &amp;lt;- vegdist(dune, &amp;quot;jaccard&amp;quot;)  # calculate the community similarity distance matrix
plot(hclust(commDist))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-12-barking-up-the-wrong-tree-leaf-your-troubles-behind-with-dendextend_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There you go. It’s easy to generate a basic dendrogram using any sort of distance matrix. So I then started tidying it up to make it a bit more presentable.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;siteLabels &amp;lt;- paste(&amp;quot;Sample &amp;quot;, rownames(dune), sep = &amp;quot;&amp;quot;)  # create some sample labels
plot(hclust(commDist), labels = siteLabels, main = &amp;quot;&amp;quot;, sub = &amp;quot;&amp;quot;, xlab = &amp;quot;&amp;quot;, ylab = &amp;quot;Jaccard Similarity&amp;quot;, lwd = 2, cex = 1.2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-12-barking-up-the-wrong-tree-leaf-your-troubles-behind-with-dendextend_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Much nicer! We’ve gotten rid of the nonsense at the bottom, given a more informative y axis label and generally made things ‘nicer’. Except, when I saw the first draft, I saw my supervisor had rotated the plot so that the leaf tips pointed to the left. For some reason this just looked wrong to my eyes and so I opted to replot the dendrogram, in a more sensible orientation.&lt;/p&gt;
&lt;p&gt;Note that to do this, we have to change our approach slightly. For some stupid reason, when we want to plot a dendrogram horizontally, we have to coerce the hclust output to dendrogram class. Additionally, the ‘plot’ method for a dendrogram class object no longer accepts the labels parameter, so we must rename the rows of our dataframe and recalculate the distance matrix instead.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rownames(dune) &amp;lt;- siteLabels  # rename rows of dataframe with our sample labels created earlier

commDist &amp;lt;- vegdist(dune, &amp;quot;jaccard&amp;quot;)  # recalculate the distance matrix so that it features our new sample names

par(mar = c(5, 1, 1, 5))  # adjust margins to make room for tip labels

# replot the dendrogram, note that we can now remove the &amp;quot;main =&amp;quot; and &amp;quot;sub =&amp;quot; arguments
# also remember to switch the x and y labels!
plot(as.dendrogram(hclust(commDist)), xlab = &amp;quot;Jaccard Similarity&amp;quot;, lwd = 2, cex = 1.2, horiz = T)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-12-barking-up-the-wrong-tree-leaf-your-troubles-behind-with-dendextend_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Perfect! Or at least I thought so. Turns out my supervisor liked the improved orientation but didn’t like the way the branches all ended at the same point. That should be easy to correct right? Wrong!&lt;/p&gt;
&lt;p&gt;I spent near enough an entire day trying to get this plot perfect without success. I went as far as exploring the &lt;code&gt;ggdendro&lt;/code&gt; package which allows plotting of dendrograms in a ggplot-esque manner.&lt;/p&gt;
&lt;p&gt;Then I stumbled on a solution, enter &lt;code&gt;dendextend&lt;/code&gt;! A quick peek of the package manual reveals some really awesome capabilities, I really urge you to take a &lt;a href=&#34;https://cran.r-project.org/web/packages/dendextend/vignettes/introduction.html&#34;&gt;look&lt;/a&gt; as some of the figures you can create are amazing. For my humble needs, this package solved all my problems easily, and in a couple of lines I’d created exactly the figure my supervisor wanted.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;ifelse(&amp;quot;dendextend&amp;quot; %in% rownames(installed.packages()) == T, library(dendextend), install.packages(dendextend))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## ---------------------
## Welcome to dendextend version 1.9.0
## Type citation(&amp;#39;dendextend&amp;#39;) for how to cite the package.
## 
## Type browseVignettes(package = &amp;#39;dendextend&amp;#39;) for the package vignette.
## The github page is: https://github.com/talgalili/dendextend/
## 
## Suggestions and bug-reports can be submitted at: https://github.com/talgalili/dendextend/issues
## Or contact: &amp;lt;tal.galili@gmail.com&amp;gt;
## 
##  To suppress this message use:  suppressPackageStartupMessages(library(dendextend))
## ---------------------&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## Attaching package: &amp;#39;dendextend&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## The following object is masked from &amp;#39;package:permute&amp;#39;:
## 
##     shuffle&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## The following object is masked from &amp;#39;package:stats&amp;#39;:
## 
##     cutree&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] &amp;quot;dendextend&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# uncomment following line if this is the fist time you&amp;#39;ve installed this package!
# library(dendextend)
dend1 &amp;lt;- as.dendrogram(hclust(commDist))
wellHung &amp;lt;- hang.dendrogram(dend1)  # the cheeky variable names are absolutely essential!
plot_horiz.dendrogram(wellHung, side = F, xlab = &amp;quot;Jaccard Dissimilarity&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-12-barking-up-the-wrong-tree-leaf-your-troubles-behind-with-dendextend_files/figure-html/unnamed-chunk-4-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There you go, an awesome package which save me from wasting too many more days of work!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Does the Adonis test really exist?</title>
      <link>https://Dave-Clark.github.io/post/does-the-adonis-test-really-exist/</link>
      <pubDate>Wed, 12 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/does-the-adonis-test-really-exist/</guid>
      <description>


&lt;p&gt;I’ve recently started a chapter for my PhD which involves a meta-analysis of microbial ecological literature. This has involved looking through the methods, or more specifically the stats sections, of lots of studies to see whether they are suitable for inclusion in my analysis. One idiosyncracy I noted whilst doing this is the number of studies that refer to an “Adonis test”. As far as I am aware, &lt;code&gt;adonis&lt;/code&gt; is simply the name of the function that carries out a permutational MANOVA (multivariate analysis of variance) or non-parametric MANOVA as the original author of this statistical test calls it (Anderson, 2001).&lt;/p&gt;
&lt;p&gt;A quick google search appears to suggest that one potential difference might be that the statistical test carried out by the &lt;code&gt;adonis()&lt;/code&gt; function is capable of handling both categoric and continuous predictors. In contrast, non-parametric MANOVA is only able to handle categoric predictors. This difference sort of makes sense, but I’m still not convinced that we should be using the term “adonis test”.&lt;/p&gt;
&lt;p&gt;I was also interested to see how many microbial ecology studies actually refer to this so called “adonis test” to see whether we are to blame for this confusion. I conducted a highly rigorous and robust google scholar search (yep, really!) on the terms “adonis test” and “adonis test” + microb* and limited results from 2001-present.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://Dave-Clark.github.io/post/2018-12-12-does-the-adonis-test-really-exist_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;As it turns out, 84% of the studies that mention “adonis test” also feature the word “microb*“, suggesting that we might be to blame! Also, only 11 of these studies used the term”MANOVA“, suggesting that the vast majority did not elaborate on the statistical procedure initiated by the &lt;code&gt;adonis&lt;/code&gt; function.&lt;/p&gt;
&lt;p&gt;If I’m completely wrong on this and there is such a thing as an adonis test then please do tell me. But it seems to be that we need to be a little more careful when describing the statistical methods we use…&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Know Your Fungi: A Brief Demo Of The New Fungal Classifier</title>
      <link>https://Dave-Clark.github.io/post/know-your-fungi-a-brief-demo-of-the-new-fungal-classifier/</link>
      <pubDate>Wed, 12 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/know-your-fungi-a-brief-demo-of-the-new-fungal-classifier/</guid>
      <description>


&lt;p&gt;As a microbial ecologist, part of my job is to try and assign taxonomy to all of the microbial critters living in the habitats I study. For archaeal or bacterial 16S rRNA gene sequences this is relatively easy. The Ribosomal Database Project have a naive Bayesian classifier which is trained on a large curated database of archaeal and bacterial 16S rRNA gene sequences. Best of all, it is implemented in the popular bioinformatics pipeline &lt;code&gt;Qiime&lt;/code&gt;, making it nice and easy to apply to your own data.&lt;/p&gt;
&lt;p&gt;But what if you are for dealing with fungal ITS sequences instead? Well a recent paper from &lt;a href=&#34;http://www.mycologia.org/content/early/2015/10/28/14-293.abstract&#34;&gt;Deshpande et al&lt;/a&gt; piqued my interest for several reasons. The paper describes a new curated database of fungal ITS sequences and demonstrates that the RDP naive Bayesian classifier does a decent job of classifying ITS sequences when trained on this database.&lt;/p&gt;
&lt;p&gt;Unfortunately, using the RDP classifier on ITS sequences means going off piste so to speak and using the standalone classifier outside of &lt;code&gt;Qiime&lt;/code&gt;. Given that most people never use the classifier outside of &lt;code&gt;Qiime&lt;/code&gt;, I thought a brief demonstration might be useful. For all of the following, I’m assuming you’re using BioLinux and are at least somewhat familiar with the Linux terminal.&lt;/p&gt;
&lt;p&gt;First of all, clone the RDPtools github repo like so:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;git clone https://github.com/rdpstaff/RDPTools.git&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, enter the newly created directory and set up the RDPtools software:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;cd RDPTools
git submodule init
git submodule updat
make&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You’ll get a lot of text whizzing through the terminal, don’t worry, you haven’t yet entered the Matrix! Once these processes finish the classifier has installed and is ready for use. However, we must now download some additional files which will allow the classifier to classify our fungal ITS sequences. To download these files, type:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;wget &amp;quot;http://rdp.cme.msu.edu/download/rdpclassifiertraindata/data.tgz&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This may take a few minutes depending on your connection speed. The files are packaged in what we call a tarball (kind of like a windows zip folder). To unpack them:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;tar -zxvf data.tgz&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now when we list the contents of our directory, we can see a new directory, “data”, has been created. This folder contains all the files we need to use the Warcup based classifier (and also the UNITE and LSU data handily).&lt;/p&gt;
&lt;p&gt;I’m going to assume you’ve already clustered your ITS sequences into operational taxonomic units and picked a representative sequence for each OTU using &lt;a href=&#34;http://qiime.org/scripts/pick_rep_set.html&#34;&gt;Qiime&lt;/a&gt; or other means.&lt;/p&gt;
&lt;p&gt;Now we simply call the classifier, tell it to use the Warcup classification files, and tell it where out data is. Simple:&lt;/p&gt;
&lt;pre class=&#34;bash&#34;&gt;&lt;code&gt;java -Xmx1g -jar classifier.jar classify -t data/classifier/fungalits_warcup/rRNAClassifier.properties -o classifiedFungi.txt /path/to/data/fungalITS_repSet.fasta&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A new file (“classifiedFungi.txt”) will have been created, containing the taxonomic assignments of each fungal sequence, complete with confidence values, pretty cool! You can of course train the classifier yourself on a custom database, in which case, follow the steps &lt;a href=&#34;https://github.com/rdpstaff/classifier&#34;&gt;here&lt;/a&gt; Anyway, I hope this was useful and demonstrates that venturing outside of &lt;code&gt;Qiime&lt;/code&gt; is not necessarily that difficult!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Merging Taxonomy With Non-Qiime OTU Tables</title>
      <link>https://Dave-Clark.github.io/post/merging-taxonomy-with-non-qiime-otu-tables/</link>
      <pubDate>Wed, 12 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/post/merging-taxonomy-with-non-qiime-otu-tables/</guid>
      <description>


&lt;p&gt;This is a quick post more to document some useful code than anything else. When conducting bioinformatic analyses using &lt;code&gt;Qiime&lt;/code&gt;, one of the last steps is to cluster sequences into OTUs (operational taxonomic units) and assign taxonomy to them. You can then make an OTU table which contains all your OTUs and their associated taxonomy. Bam, easy!&lt;/p&gt;
&lt;p&gt;But what to do if you haven’t/don’t want to use &lt;code&gt;Qiime&lt;/code&gt; to cluster OTUs? For example, I often use &lt;code&gt;Vsearch&lt;/code&gt; to cluster my OTUs and then may use &lt;code&gt;Qiime&lt;/code&gt; to assign taxonomy via the RDP classifier. This means we need some way of uniting our already constructed OTU table with our taxonomy file.&lt;/p&gt;
&lt;p&gt;Here is a short piece of &lt;code&gt;R&lt;/code&gt; code which will do the job nicely.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;# First, let&amp;#39;s read in our OTU table
otuTable &amp;lt;- read.delim(&amp;quot;archOtuTab.txt&amp;quot;, header = T)

# now to read in the taxonomy file generated by the RDP classifier in Qiime
taxa &amp;lt;- read.table(&amp;quot;archaeaCentroids_tax_assignments.txt&amp;quot;,
    header = F, col.names= c(&amp;quot;OTUId&amp;quot;, &amp;quot;taxonomy&amp;quot;, &amp;quot;confidence&amp;quot;),
    stringsAsFactors = F, sep = &amp;quot;\t&amp;quot;)

otuTable &amp;lt;- merge(otuTable, taxa[, -3], by = &amp;quot;OTUId&amp;quot;)
# this line then merges the OTU table with taxonomy. Order of OTUs/taxonomy is
# not important, R will correctly match OTUs with their taxonomy string
# Note that this line will not print the confidence column in the final OTU
# table as it is often not that useful...

# now we just need to write our completed OTU table to a file
write.table(otuTable, &amp;quot;archaeaOtuTableTaxonomy.txt&amp;quot;,
    sep = &amp;quot;\t&amp;quot;, quote = F, row.names = F)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Done! A simple way of uniting taxonomy information with a standalone OTU table without using &lt;code&gt;Qiime&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Page</title>
      <link>https://Dave-Clark.github.io/tutorial/example/</link>
      <pubDate>Sun, 09 Sep 2018 00:00:00 +0100</pubDate>
      
      <guid>https://Dave-Clark.github.io/tutorial/example/</guid>
      <description>

&lt;p&gt;In this tutorial, I&amp;rsquo;ll share my top 10 tips for getting started with Academic:&lt;/p&gt;

&lt;h2 id=&#34;tip-1&#34;&gt;Tip 1&lt;/h2&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;tip-2&#34;&gt;Tip 2&lt;/h2&gt;

&lt;p&gt;&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Example Talk</title>
      <link>https://Dave-Clark.github.io/talk/example/</link>
      <pubDate>Sun, 01 Jan 2017 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/talk/example/</guid>
      <description>&lt;div class=&#34;alert alert-note&#34;&gt;
  &lt;p&gt;Click on the &lt;strong&gt;Slides&lt;/strong&gt; button above to view the built-in slides feature.&lt;/p&gt;

&lt;/div&gt;


&lt;p&gt;Slides can be added in a few ways:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create&lt;/strong&gt; slides using Academic&amp;rsquo;s &lt;em&gt;Slides&lt;/em&gt; feature and link using &lt;code&gt;url_slides&lt;/code&gt; parameter in the front matter of the talk file&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Upload&lt;/strong&gt; an existing slide deck to &lt;code&gt;static/&lt;/code&gt; and link using &lt;code&gt;url_slides&lt;/code&gt; parameter in the front matter of the talk file&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Embed&lt;/strong&gt; your slides (e.g. Google Slides) or presentation video on this page using &lt;a href=&#34;https://sourcethemes.com/academic/docs/writing-markdown-latex/&#34; target=&#34;_blank&#34;&gt;shortcodes&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Further talk details can easily be added to this page using &lt;em&gt;Markdown&lt;/em&gt; and $\rm \LaTeX$ math code.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>External Project</title>
      <link>https://Dave-Clark.github.io/project/external-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0100</pubDate>
      
      <guid>https://Dave-Clark.github.io/project/external-project/</guid>
      <description></description>
    </item>
    
    <item>
      <title>Internal Project</title>
      <link>https://Dave-Clark.github.io/project/internal-project/</link>
      <pubDate>Wed, 27 Apr 2016 00:00:00 +0100</pubDate>
      
      <guid>https://Dave-Clark.github.io/project/internal-project/</guid>
      <description>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.&lt;/p&gt;

&lt;p&gt;Nullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.&lt;/p&gt;

&lt;p&gt;Cras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.&lt;/p&gt;

&lt;p&gt;Suspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.&lt;/p&gt;

&lt;p&gt;Aliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A Person Re-Identification System For Mobile Devices</title>
      <link>https://Dave-Clark.github.io/publication/person-re-id/</link>
      <pubDate>Tue, 01 Sep 2015 00:00:00 +0100</pubDate>
      
      <guid>https://Dave-Clark.github.io/publication/person-re-id/</guid>
      <description>&lt;p&gt;More detail can easily be written here using &lt;em&gt;Markdown&lt;/em&gt; and $\rm \LaTeX$ math code.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mobile visual clothing search</title>
      <link>https://Dave-Clark.github.io/publication/clothing-search/</link>
      <pubDate>Mon, 01 Jul 2013 00:00:00 +0100</pubDate>
      
      <guid>https://Dave-Clark.github.io/publication/clothing-search/</guid>
      <description>&lt;p&gt;More detail can easily be written here using &lt;em&gt;Markdown&lt;/em&gt; and $\rm \LaTeX$ math code.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Slides</title>
      <link>https://Dave-Clark.github.io/slides/example-slides/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://Dave-Clark.github.io/slides/example-slides/</guid>
      <description>

&lt;h1 id=&#34;welcome-to-slides&#34;&gt;Welcome to Slides&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://sourcethemes.com/academic/&#34; target=&#34;_blank&#34;&gt;Academic&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;features&#34;&gt;Features&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Efficiently write slides in Markdown&lt;/li&gt;
&lt;li&gt;3-in-1: Create, Present, and Publish your slides&lt;/li&gt;
&lt;li&gt;Supports speaker notes&lt;/li&gt;
&lt;li&gt;Mobile friendly slides&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;controls&#34;&gt;Controls&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Next: &lt;code&gt;Right Arrow&lt;/code&gt; or &lt;code&gt;Space&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Previous: &lt;code&gt;Left Arrow&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start: &lt;code&gt;Home&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Finish: &lt;code&gt;End&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Overview: &lt;code&gt;Esc&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Speaker notes: &lt;code&gt;S&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Fullscreen: &lt;code&gt;F&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Zoom: &lt;code&gt;Alt + Click&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/hakimel/reveal.js#pdf-export&#34; target=&#34;_blank&#34;&gt;PDF Export&lt;/a&gt;: &lt;code&gt;E&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;code-highlighting&#34;&gt;Code Highlighting&lt;/h2&gt;

&lt;p&gt;Inline code: &lt;code&gt;variable&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Code block:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-python&#34;&gt;porridge = &amp;quot;blueberry&amp;quot;
if porridge == &amp;quot;blueberry&amp;quot;:
    print(&amp;quot;Eating...&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;math&#34;&gt;Math&lt;/h2&gt;

&lt;p&gt;In-line math: $x + y = z$&lt;/p&gt;

&lt;p&gt;Block math:&lt;/p&gt;

&lt;p&gt;$$
f\left( x \right) = \;\frac{{2\left( {x + 4} \right)\left( {x - 4} \right)}}{{\left( {x + 4} \right)\left( {x + 1} \right)}}
$$&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;fragments&#34;&gt;Fragments&lt;/h2&gt;

&lt;p&gt;Make content appear incrementally&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{{% fragment %}} One {{% /fragment %}}
{{% fragment %}} **Two** {{% /fragment %}}
{{% fragment %}} Three {{% /fragment %}}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Press &lt;code&gt;Space&lt;/code&gt; to play!&lt;/p&gt;

&lt;p&gt;&lt;span class=&#34;fragment &#34; &gt;
  One
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
  &lt;strong&gt;Two&lt;/strong&gt;
&lt;/span&gt;
&lt;span class=&#34;fragment &#34; &gt;
  Three
&lt;/span&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;A fragment can accept two optional parameters:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;class&lt;/code&gt;: use a custom style (requires definition in custom CSS)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;weight&lt;/code&gt;: sets the order in which a fragment appears&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;speaker-notes&#34;&gt;Speaker Notes&lt;/h2&gt;

&lt;p&gt;Add speaker notes to your presentation&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{% speaker_note %}}
- Only the speaker can read these notes
- Press `S` key to view
{{% /speaker_note %}}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Press the &lt;code&gt;S&lt;/code&gt; key to view the speaker notes!&lt;/p&gt;

&lt;aside class=&#34;notes&#34;&gt;
  &lt;ul&gt;
&lt;li&gt;Only the speaker can read these notes&lt;/li&gt;
&lt;li&gt;Press &lt;code&gt;S&lt;/code&gt; key to view&lt;/li&gt;
&lt;/ul&gt;

&lt;/aside&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;themes&#34;&gt;Themes&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;black: Black background, white text, blue links (default)&lt;/li&gt;
&lt;li&gt;white: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;league: Gray background, white text, blue links&lt;/li&gt;
&lt;li&gt;beige: Beige background, dark text, brown links&lt;/li&gt;
&lt;li&gt;sky: Blue background, thin dark text, blue links&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;ul&gt;
&lt;li&gt;night: Black background, thick white text, orange links&lt;/li&gt;
&lt;li&gt;serif: Cappuccino background, gray text, brown links&lt;/li&gt;
&lt;li&gt;simple: White background, black text, blue links&lt;/li&gt;
&lt;li&gt;solarized: Cream-colored background, dark green text, blue links&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;


&lt;section data-noprocess data-shortcode-slide
  
      
      data-background-image=&#34;/img/boards.jpg&#34;
  &gt;


&lt;h2 id=&#34;custom-slide&#34;&gt;Custom Slide&lt;/h2&gt;

&lt;p&gt;Customize the slide style and background&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-markdown&#34;&gt;{{&amp;lt; slide background-image=&amp;quot;/img/boards.jpg&amp;quot; &amp;gt;}}
{{&amp;lt; slide background-color=&amp;quot;#0000FF&amp;quot; &amp;gt;}}
{{&amp;lt; slide class=&amp;quot;my-style&amp;quot; &amp;gt;}}
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h2 id=&#34;custom-css-example&#34;&gt;Custom CSS Example&lt;/h2&gt;

&lt;p&gt;Let&amp;rsquo;s make headers navy colored.&lt;/p&gt;

&lt;p&gt;Create &lt;code&gt;assets/css/reveal_custom.css&lt;/code&gt; with:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-css&#34;&gt;.reveal section h1,
.reveal section h2,
.reveal section h3 {
  color: navy;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;hr /&gt;

&lt;h1 id=&#34;questions&#34;&gt;Questions?&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;https://discourse.gohugo.io&#34; target=&#34;_blank&#34;&gt;Ask&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://sourcethemes.com/academic/docs/&#34; target=&#34;_blank&#34;&gt;Documentation&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
